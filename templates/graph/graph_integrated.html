<!DOCTYPE html>
<html>
		<head>
		    {% load static %}
				<title>Aquametrics</title>
				<meta charset="utf-8">
				<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
				<meta name="description" content="">
				<meta name="author" content="">
				<link rel="icon" href="{% static "frontend/aquametrics.ico" %}">
        <!-- <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script> -->
				<script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
				<!-- Custom styles for this template -->
				<!-- Bootstrap core CSS -->
				<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.0/css/bootstrap.min.css" rel="stylesheet">
				<link href="{% static "frontend/demo.css" %}" rel="stylesheet">
				<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
				<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

			<!-- script for Google Charts -->
        <script type="text/javascript">
            google.charts.load('current', {'packages':['corechart']});
            google.charts.load('current', {'packages':['gauge']});

           google.charts.setOnLoadCallback(function() {drawChart1('WaterPH','Water PH', 4, 8, 'Blue','pH', 'chartdiv_2');});
           setInterval(function(){
                google.charts.setOnLoadCallback(function() {drawChart1('WaterPH','Water PH', 4, 8, 'Blue','pH','chartdiv_2')})
            }, 10000);

            google.charts.setOnLoadCallback(function() {drawChart3A('EnvTemp', 'WaterTempFishTank', 'EnvHumidity',
                                                          'EnvTemp / C', 'WaterTempFishTank / C', 'EnvHumidity / %',
                                                          'Red', 'Green', 'Orange',
                                                          'Temperature and Humidity', 'chartdiv_1');});
            setInterval(function(){
                google.charts.setOnLoadCallback(function() {drawChart3A('EnvTemp', 'WaterTempFishTank', 'EnvHumidity',
                                                          'EnvTemp / C', 'WaterTempFishTank / C', 'EnvHumidity / %',
                                                          'Red', 'Green', 'Orange',
                                                          'Temperature and Humidity', 'chartdiv_1');})
            }, 10000);

            google.charts.setOnLoadCallback(function() {drawChart3B('WaterLevelLow', 'WaterLevelFull', 'IsFilling',
                                                      'Mid', 'Full', 'Filling',
                                                      'Blue', 'Blue', 'Blue',
                                                      'Water Level', 'chartdiv_4');})
            setInterval(function(){
                google.charts.setOnLoadCallback(function() {drawChart3B('WaterLevelLow', 'WaterLevelFull', 'IsFilling',
                                                          'Low', 'Full', 'Filling',
                                                          'Blue', 'Blue', 'Blue',
                                                          'Water Level', 'chartdiv_4');})
            }, 10000);

            google.charts.setOnLoadCallback(function() {drawChart4('WaterFlowFishTank', 'WaterFlowMain', 'WaterFlowVertGrow', 'WaterFlowHorizGrow',
                                                      'Fish Tank', 'Main', 'Vertical', 'Horizontal',
                                                      'Crimson', 'Coral', 'Indigo', 'Steelblue',
                                                      'Water Flow', 'chartdiv_3');})
            setInterval(function(){
                google.charts.setOnLoadCallback(function() {drawChart4('WaterFlowFishTank', 'WaterFlowMain', 'WaterFlowVertGrow', 'WaterFlowHorizGrow',
                                                          'Fish Tank', 'Main', 'Vertical', 'Horizontal',
                                                          'Crimson', 'Coral', 'Indigo', 'Steelblue',
                                                          'Water Flow', 'chartdiv_3');})
            }, 10000);

            google.charts.setOnLoadCallback(function(){drawChart('EnvTemp', 'gaugediv_1', 20, 40, 25, 35);});
            setInterval(function(){google.charts.setOnLoadCallback(function(){drawChart('EnvTemp', 'gaugediv_1', 20, 40, 25, 35);})}, 10000);

            google.charts.setOnLoadCallback(function(){drawChart('WaterTempFishTank', 'gaugediv_2', 20, 40, 25, 35);});
            setInterval(function(){google.charts.setOnLoadCallback(function(){drawChart('WaterTempFishTank', 'gaugediv_2', 20, 40, 25, 35);})}, 10000);

            google.charts.setOnLoadCallback(function(){drawChart('EnvHumidity', 'gaugediv_3', 50, 100, 60, 90);});
            setInterval(function(){google.charts.setOnLoadCallback(function(){drawChart('EnvHumidity', 'gaugediv_3', 40, 100, 60, 90);})}, 10000);

            google.charts.setOnLoadCallback(function(){drawChart('WaterPH', 'gaugediv_4', 4, 8, 6, 7);});
            setInterval(function(){google.charts.setOnLoadCallback(function(){drawChart('WaterPH', 'gaugediv_4', 4, 8, 6, 7);})}, 10000);

            google.charts.setOnLoadCallback(function(){drawChart('IsRain', 'gaugediv_5', 100, 1000, 9999, 99999);});
            setInterval(function(){google.charts.setOnLoadCallback(function(){drawChart('IsRain', 'gaugediv_5', 100, 1000, 9999, 99999);})}, 10000);

            google.charts.setOnLoadCallback(function(){drawChart('WaterLevelLow', 'gaugediv_6', 0, 1, 9999, 99999);});
            setInterval(function(){google.charts.setOnLoadCallback(function(){drawChart('WaterLevelLow', 'gaugediv_6', 0, 1, 9999, 99999);})}, 10000);

            google.charts.setOnLoadCallback(function(){drawChart('WaterLevelFull', 'gaugediv_7', 0, 1, 9999, 99999);});
            setInterval(function(){google.charts.setOnLoadCallback(function(){drawChart('WaterLevelFull', 'gaugediv_7', 0, 1, 9999, 99999);})}, 10000);

            google.charts.setOnLoadCallback(function(){drawChart('IsFilling', 'gaugediv_8', 0, 1, 9999, 99999);});
            setInterval(function(){google.charts.setOnLoadCallback(function(){drawChart('IsFilling', 'gaugediv_8', 0, 1, 9999, 99999);})}, 10000);

            google.charts.setOnLoadCallback(function(){drawChart('WaterFlowFishTank', 'gaugediv_9', 0, 16, 9999, 99999);});
            setInterval(function(){google.charts.setOnLoadCallback(function(){drawChart('WaterFlowFishTank', 'gaugediv_9', 0, 16, 9999, 99999);})}, 10000);

            google.charts.setOnLoadCallback(function(){drawChart('WaterFlowMain', 'gaugediv_10', 0, 16, 9999, 99999);});
            setInterval(function(){google.charts.setOnLoadCallback(function(){drawChart('WaterFlowMain', 'gaugediv_10', 0, 16, 9999, 99999);})}, 10000);

            google.charts.setOnLoadCallback(function(){drawChart('WaterFlowVertGrow', 'gaugediv_11', 0, 16, 9999, 99999);});
            setInterval(function(){google.charts.setOnLoadCallback(function(){drawChart('WaterFlowVertGrow', 'gaugediv_11', 0, 16, 9999, 99999);})}, 10000);

            google.charts.setOnLoadCallback(function(){drawChart('WaterFlowHorizGrow', 'gaugediv_12', 0, 16, 9999, 99999);});
            setInterval(function(){google.charts.setOnLoadCallback(function(){drawChart('WaterFlowHorizGrow', 'gaugediv_12', 0, 16, 9999, 99999);})}, 10000);

            $( document ).ajaxStart(function() {
            $( "#loadingStart" ).show();
            $( "#loadingStop" ).hide();
            });

            $( document ).ajaxStop(function() {
            $( "#loadingStart" ).hide();
            $( "#loadingStop" ).show();
            });

           {% include "graph/drawchart_integrated.html" %};
        </script>
        <script type="text/javascript">
            window.onload = function() { document.getElementById("time").innerHTML = moment().toString(); };
        </script>
		</head>
		<body>
				<nav class="navbar navbar-expand-md navbar-light fixed-top bg-light">
					<a href="#" class="navbar-left"><img src="{% static "frontend/aquametrics_logo.png" %}"></a>
					<a class="navbar-brand" href="#">Aquametrics</a>
					<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarCollapse">
						<ul class="navbar-nav mr-auto">
							<li class="nav-item active">
								<a class="nav-link" href="{% url 'graph-only' %}">Graph</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="{% url 'trend'%}">Trend Analysis</a>
							</li>
						</ul>
					</div>
				</nav>
			        <section class="container">
                        <div id='loadingStart'><img src="{% static "graph/loading_start.gif" %}" alt="Refreshing..."/></div>
                        <div id='loadingStop'><img src="{% static "graph/loading_stop.png" %}" alt="Idling..."/></div>
                        <div>Graphs' dates and times plotted at this timezone:</div></br>
				        <div id='time'></div></br>
                    </section>
		            <div id="container">
			            <div id="left">
	    				        <div id='chartdiv_1'></div>
	    				        <div id='chartdiv_2'></div>
	    				        <div id='chartdiv_3'></div>
	    				        <div id='chartdiv_4'></div>
					        </div>
							    <div id="right">
	    				        <div id='gaugediv_1' class='gauge'></div>
	    				        <div id='gaugediv_2' class='gauge'></div>
	    				        <div id='gaugediv_3' class='gauge'></div>
	    				        <div id='gaugediv_4' class='gauge'></div>
	    				        <div id='gaugediv_5' class='gauge'></div>
	    				        <div id='gaugediv_6' class='gauge'></div>
	    				        <div id='gaugediv_7' class='gauge'></div>
	    				        <div id='gaugediv_8' class='gauge'></div>
	    				        <div id='gaugediv_9' class='gauge'></div>
	    				        <div id='gaugediv_10' class='gauge'></div>
	    				        <div id='gaugediv_11' class='gauge'></div>
	    				        <div id='gaugediv_12' class='gauge'></div>
					        </div>
				        <div class="clear"></div>
			        </div>
		</body>
</html>
